import{_ as de}from"./preload-helper.101896b7.js";import{h as G,ap as ce,r as fe,K as be,o as ye,a9 as b,j as c,v as T,x as o,l as f,C as u,D as l,u as m,k as F,Z as _,F as j,y,E as x,B as n}from"./vue.bd0669ce.js";import{u as xe}from"./vue-i18n.cjs.2a00fe88.js";import{u as ge}from"./index.dbe87b05.js";import{g as Te}from"./header.9390c1c5.js";import{a as Fe}from"./index.7c5dfd4e.js";import{b as N,g as _e}from"./formatTime.057ac5b9.js";import{d as je}from"./data.a7368d0d.js";import{ay as z}from"./index.e8f4f9cf.js";import{J as A}from"./index.f64fca3a.js";import"./_commonjsHelpers.35101cd5.js";import"./request.386cf962.js";import"./storage.b628b270.js";import"./index.c3b4fd97.js";import"./index.aa7cec2e.js";import"./themeConfig.cb88f033.js";import"./index.3f2ce315.js";import"./index.ee56f1f7.js";const Pe={class:"system-role-dialog-container",style:{padding:"20px"}},he=f("br",null,null,-1),Se=f("br",null,null,-1),ve=f("br",null,null,-1),Ee=f("br",null,null,-1),Ve=f("br",null,null,-1),we=f("br",null,null,-1),ke=f("br",null,null,-1),Ie=f("br",null,null,-1),Re=f("br",null,null,-1),Le=f("br",null,null,-1),Ce=f("br",null,null,-1),Ue=f("br",null,null,-1),$e=f("br",null,null,-1),De=f("br",null,null,-1),Me=f("br",null,null,-1),qe=f("br",null,null,-1),Be={style:{flex:"auto","text-align":"left","padding-left":"30px","padding-bottom":"10px"}},Je=G({name:"jobDrawerName"}),ml=G({...Je,emits:["refresh"],setup(Ne,{expose:O,emit:q}){const I=ce(()=>de(()=>import("./monaco.c8c1dd6a.js").then(r=>r.a),["assets/monaco.c8c1dd6a.js","assets/preload-helper.101896b7.js","assets/vue.bd0669ce.js","assets/monaco.82344604.css"])),{t:a}=xe(),H=ge(),R=Fe(),L=fe(),e=be({isUpdate:!1,dialogTitle:"",rowState:{inputProcessor:!0,kettleProcessor:!1,httpProcessor:!1,shellProcessor:!1,shardingParams:!1,processorParams:!0,timeExpression:!0,executeTime:!1,fixedDelay:!1,fixedRate:!1},syncEditor:!1,shellEditor:{editorStyle:"width: 95%;height: 220px;",language:"shell"},paramsEditor:{editorStyle:"width: 95%;height: 220px;"},paramsExtEditor:{editorStyle:"width: 95%;height: 150px;"},drawer:{type:"",isShow:!1},fromRules:{name:{required:!0,message:a("message.job.job.name"),trigger:"blur"},processorInfo:{required:!0,message:a("message.job.job.processorInfo"),trigger:"blur"},shardingParams:{required:!0,message:a("message.job.job.shardingParams"),trigger:"blur"},kettleProcessorInfo:{required:!0,message:a("message.job.job.kettleCommand"),trigger:"blur"},shellProcessorInfo:{required:!0,message:a("message.job.job.processorInfo"),trigger:"blur"},timeExpression:{required:!0,message:a("message.job.job.timeExpression"),trigger:"blur"},fixedDelay:{required:!0,message:a("message.job.job.validateName.fixed"),pattern:/^[0-9]*$/,trigger:"blur"},fixedRate:{required:!0,message:a("message.job.job.validateName.fixed"),pattern:/^[0-9]*$/,trigger:"blur"},executeTime:{required:!0,message:a("message.job.job.timeExpressionTypeList.oneTimeTitle"),trigger:"blur"}},contentType:[{value:"plaintext",label:"plaintext"},{value:"json",label:"json"},{value:"yaml",label:"yaml"},{value:"properties",label:"properties"}],shellType:[{value:"unix",label:"unix"},{value:"windows",label:"windows"}],httpMethod:[{value:"GET",label:"GET"},{value:"POST",label:"POST"}],processorType:[{value:"processor",label:"processor"},{value:"shell",label:"shell"},{value:"kettle",label:"kettle"}],executeType:[{value:"standalone",label:a("message.job.job.executeTypeList.standalone")}],executeStrategy:[{value:1,label:a("message.job.job.executeStrategyList.discard")},{value:2,label:a("message.job.job.executeStrategyList.overlay")},{value:3,label:a("message.job.job.executeStrategyList.concurrency")}],timeExpressionType:[{value:"cron",label:a("message.job.job.timeExpressionTypeList.cron")},{value:"oneTime",label:a("message.job.job.timeExpressionTypeList.oneTime")}],namespaceList:[],appList:[],ruleForm:{timesStep:1,intervalStep:1e3,description:"",paramsType:"plaintext",params:"",extendParamsType:"plaintext",extendParams:"",timeExpressionType:"cron",timeExpression:"",executeTime:"",fixedDelay:"",fixedRate:"",Time:0,executeType:"standalone",processorType:"processor",processorInfo:"",httpUrl:"",httpMethod:"GET",shellProcessorInfo:"",shellProcessorType:"unix",kettleProcessorInfo:"",kettleProcessorType:"unix",shardingParams:"",namespaceId:0,appId:1,id:0,name:"",status:!0,failRetryTimes:1,failRetryInterval:2e3,concurrency:1,executeStrategy:1}});ye(async()=>{await K()});const K=async()=>{let r=await H.getList({page:1,size:128});e.namespaceList=[],r.list.forEach(function(t){e.namespaceList.push({id:t.id,name:t.name})})},Q=async(r,t,g)=>{if(await X(),e.drawer.type=r,e.drawer.isShow=!0,r==="add"){e.isUpdate=!1,e.dialogTitle=a("message.job.job.addJobTitle"),e.syncEditor=!0,await Z(t),e.syncEditor=!1;return}e.isUpdate=!0,r=="update"?e.dialogTitle=a("message.job.job.updateJobTitle"):e.dialogTitle=a("message.job.job.copyJobTitle"),e.syncEditor=!0,await W(g),e.syncEditor=!1},Z=async r=>{r==0&&(r=e.appList[0].id),$("cron"),C("processor"),e.ruleForm.namespaceId=Te(),e.ruleForm.appId=r,e.ruleForm.name="",e.ruleForm.description="",e.ruleForm.processorType="processor",e.ruleForm.processorInfo="",e.ruleForm.shellProcessorInfo="",e.ruleForm.params="",e.ruleForm.paramsType="plaintext",e.ruleForm.extendParamsType="plaintext",e.ruleForm.extendParams="",e.ruleForm.timeExpressionType="cron",e.ruleForm.timeExpression="",e.ruleForm.executeTime="",e.ruleForm.fixedDelay="",e.ruleForm.fixedRate="",e.ruleForm.status=!0,e.ruleForm.executeType="standalone",e.ruleForm.shellProcessorType="unix",e.ruleForm.shellProcessorInfo="",e.ruleForm.kettleProcessorType="unix",e.ruleForm.kettleProcessorInfo="",e.ruleForm.shardingParams="",e.ruleForm.executeStrategy=1,e.ruleForm.failRetryTimes=1,e.ruleForm.failRetryInterval=3e3,e.ruleForm.concurrency=1},W=async r=>{var t;(t=L.value)==null||t.clearValidate(),e.ruleForm.id=r.id,e.ruleForm.namespaceId=r.namespaceId,e.ruleForm.appId=r.appId,e.ruleForm.name=r.name,e.ruleForm.description=r.description,e.ruleForm.processorType=r.processorType,e.ruleForm.processorInfo=r.processorInfo,e.ruleForm.params=r.params,e.ruleForm.paramsType=r.paramsType,e.ruleForm.extendParamsType=r.extendParamsType,e.ruleForm.extendParams=r.extendParams,e.ruleForm.timeExpressionType=r.timeExpressionType,e.ruleForm.timeExpression=r.timeExpression,e.ruleForm.status=r.status,e.ruleForm.executeType=r.executeType,e.ruleForm.executeStrategy=r.executeStrategy,e.ruleForm.failRetryTimes=r.failRetryTimes,e.ruleForm.failRetryInterval=r.failRetryInterval,e.ruleForm.concurrency=r.concurrency,e.ruleForm.processorInfo=r.processorInfo,$(r.timeExpressionType),C(r.processorType),U(r.executeType),r.executeType=="sharding"&&(e.ruleForm.shardingParams=r.shardingParams),r.shellProcessorType!=null&&(B(r.shellProcessorType),e.ruleForm.shellProcessorInfo=r.shellProcessorInfo),r.kettleProcessorType!=null&&(J(r.kettleProcessorType),e.ruleForm.kettleProcessorInfo=r.kettleProcessorInfo),r.timeExpressionType=="secondDelay"?(e.ruleForm.fixedDelay=r.timeExpressionValue.toString(),e.ruleForm.fixedRate="",e.ruleForm.timeExpression="",e.ruleForm.executeTime=""):r.timeExpressionType=="fixedRate"?(e.ruleForm.fixedRate=r.timeExpressionValue.toString(),e.ruleForm.fixedDelay="",e.ruleForm.timeExpression="",e.ruleForm.executeTime=""):r.timeExpressionType=="oneTime"?(e.ruleForm.executeTime=N(r.timeExpressionValue),e.ruleForm.fixedRate="",e.ruleForm.timeExpression="",e.ruleForm.fixedDelay=""):(e.ruleForm.fixedRate="",e.ruleForm.fixedRate="",e.ruleForm.executeTime="")},X=async()=>{e.appList=await je()},Y=()=>{e.drawer.isShow=!1},ee=async r=>{if(!r)return;let t=["name"];e.ruleForm.processorType=="shell"?t.push("shellProcessorInfo"):e.ruleForm.processorType=="kettle"?t.push("kettleProcessorInfo"):t.push("processorInfo"),e.ruleForm.timeExpressionType=="secondDelay"?t.push("fixedDelay"):e.ruleForm.timeExpressionType=="fixedRate"?t.push("fixedRate"):e.ruleForm.timeExpressionType=="oneTime"?t.push("executeTime"):t.push("timeExpression"),await r.validateField(t,g=>{if(g)le();else return!1})},le=async()=>{let r;e.ruleForm.timeExpressionType=="secondDelay"?r=e.ruleForm.fixedDelay:e.ruleForm.timeExpressionType=="fixedRate"?r=e.ruleForm.fixedRate:e.ruleForm.timeExpressionType=="oneTime"&&(r=_e(e.ruleForm.executeTime));let t={id:e.ruleForm.id,namespaceId:e.ruleForm.namespaceId,appId:e.ruleForm.appId,name:e.ruleForm.name,description:e.ruleForm.description,processorType:e.ruleForm.processorType,processorInfo:e.ruleForm.processorInfo,executeType:e.ruleForm.executeType,paramsType:e.ruleForm.paramsType,params:e.ruleForm.params,extendParamsType:e.ruleForm.extendParamsType,extendParams:e.ruleForm.extendParams,timeExpressionType:e.ruleForm.timeExpressionType,timeExpression:e.ruleForm.timeExpression,timeExpressionValue:r,executeStrategy:e.ruleForm.executeStrategy,failRetryTimes:e.ruleForm.failRetryTimes,failRetryInterval:e.ruleForm.failRetryInterval,concurrency:e.ruleForm.concurrency,status:e.ruleForm.status?1:2,shellProcessorInfo:e.ruleForm.shellProcessorInfo,shellProcessorType:e.ruleForm.shellProcessorType,kettleProcessorType:e.ruleForm.kettleProcessorType,kettleProcessorInfo:e.ruleForm.kettleProcessorInfo,shardingParams:e.ruleForm.shardingParams};if(e.drawer.type==="add"||e.drawer.type==="copy"){await R.add(t),z.success("新增成功"),e.drawer.isShow=!1,q("refresh");return}await R.update(t),z.success("更新成功"),e.drawer.isShow=!1,q("refresh")},C=r=>{r=="shell"?(e.rowState.inputProcessor=!1,e.rowState.shellProcessor=!0,e.rowState.kettleProcessor=!1,e.rowState.processorParams=!1,e.rowState.httpProcessor=!1,e.executeType=[{value:"standalone",label:a("message.job.job.executeTypeList.standalone")}]):r=="kettle"?(e.rowState.inputProcessor=!1,e.rowState.shellProcessor=!1,e.rowState.kettleProcessor=!0,e.rowState.processorParams=!1,e.rowState.httpProcessor=!1,e.executeType=[{value:"standalone",label:a("message.job.job.executeTypeList.standalone")}]):r=="http"?(e.rowState.inputProcessor=!1,e.rowState.shellProcessor=!1,e.rowState.kettleProcessor=!1,e.rowState.processorParams=!1,e.rowState.httpProcessor=!0,e.executeType=[{value:"standalone",label:a("message.job.job.executeTypeList.standalone")}]):(e.rowState.inputProcessor=!0,e.rowState.shellProcessor=!1,e.rowState.kettleProcessor=!1,e.rowState.processorParams=!0,e.rowState.httpProcessor=!1,e.executeType=[{value:"standalone",label:a("message.job.job.executeTypeList.standalone")}]),e.ruleForm.executeType="standalone",U("standalone")},U=r=>{if(r=="sharding"){e.ruleForm.processorType=="processor"&&(e.rowState.processorParams=!1),e.rowState.shardingParams=!0;return}else e.ruleForm.processorType=="processor"&&(e.rowState.processorParams=!0),e.rowState.shardingParams=!1},$=r=>{if(r=="cron"){e.rowState.timeExpression=!0,e.rowState.fixedDelay=!1,e.rowState.fixedRate=!1,e.rowState.executeTime=!1;return}if(r=="secondDelay"){e.rowState.timeExpression=!1,e.rowState.fixedDelay=!0,e.rowState.fixedRate=!1,e.rowState.executeTime=!1;return}if(r=="fixedRate"){e.rowState.timeExpression=!1,e.rowState.fixedDelay=!1,e.rowState.fixedRate=!0,e.rowState.executeTime=!1;return}if(r=="oneTime"){e.rowState.timeExpression=!1,e.rowState.fixedDelay=!1,e.rowState.fixedRate=!1,e.rowState.executeTime=!0;return}},oe=async()=>{let r=await R.timeExpression({timeExpression:e.ruleForm.timeExpression});if(r.valid===2){await A.alert(a("message.job.job.timeExpressionValidMsg"),a("message.commonMsg.tip"),{type:"error"});return}let t="";r.list.forEach(function(g){t+=N(g)+"<br>"}),await A.alert(`<div style="text-align: center">${t}</div>`,a("message.job.job.timeExpressionTitle"),{dangerouslyUseHTMLString:!0})},re=r=>{e.ruleForm.paramsType=r},se=r=>{e.ruleForm.extendParamsType=r},B=r=>{e.ruleForm.shellProcessorType=r},J=r=>{e.ruleForm.kettleProcessorType=r},te=r=>{e.ruleForm.shellProcessorInfo=r},ae=r=>{e.ruleForm.params=r},me=r=>{e.ruleForm.extendParams=r};return O({openDrawer:Q}),(r,t)=>{const g=b("el-option"),h=b("el-select"),p=b("el-form-item"),i=b("el-col"),d=b("el-row"),P=b("el-input"),v=b("ele-QuestionFilled"),E=b("el-icon"),V=b("el-tooltip"),w=b("el-radio"),k=b("el-radio-group"),D=b("el-button"),ue=b("el-date-picker"),ne=b("el-switch"),M=b("el-input-number"),ie=b("el-form"),pe=b("el-drawer");return c(),T(pe,{modelValue:e.drawer.isShow,"onUpdate:modelValue":t[27]||(t[27]=s=>e.drawer.isShow=s),direction:"rtl",size:"50%"},{header:o(()=>[f("h4",null,u(e.dialogTitle),1)]),default:o(()=>[f("div",Pe,[l(ie,{ref_key:"jobFormRef",ref:L,model:e.ruleForm,"label-width":"130px","label-position":"right",rules:e.fromRules,size:"default"},{default:o(()=>[l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.app.namespace"),prop:"namespaceId"},{default:o(()=>[l(h,{modelValue:e.ruleForm.namespaceId,"onUpdate:modelValue":t[0]||(t[0]=s=>e.ruleForm.namespaceId=s),class:"m-2",placeholder:m(a)("message.commonMsg.emptySelect"),style:{width:"100%"}},{default:o(()=>[(c(!0),F(j,null,_(e.namespaceList,s=>(c(),T(g,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.application"),prop:"appId"},{default:o(()=>[l(h,{modelValue:e.ruleForm.appId,"onUpdate:modelValue":t[1]||(t[1]=s=>e.ruleForm.appId=s),class:"m-2",filterable:"",placeholder:m(a)("message.commonMsg.emptySelect"),style:{width:"100%"}},{default:o(()=>[(c(!0),F(j,null,_(e.appList,s=>(c(),T(g,{key:s.id,label:s.label,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.name"),prop:"name"},{default:o(()=>[l(P,{modelValue:e.ruleForm.name,"onUpdate:modelValue":t[2]||(t[2]=s=>e.ruleForm.name=s),clearable:""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.description"),prop:"description"},{default:o(()=>[l(P,{modelValue:e.ruleForm.description,"onUpdate:modelValue":t[3]||(t[3]=s=>e.ruleForm.description=s),clearable:"",type:"textarea",rows:"3"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.processorType"),prop:"processorType"},{default:o(()=>[l(h,{modelValue:e.ruleForm.processorType,"onUpdate:modelValue":t[4]||(t[4]=s=>e.ruleForm.processorType=s),disabled:e.isUpdate,class:"m-2",placeholder:m(a)("message.commonMsg.emptySelect"),style:{width:"100%"}},{default:o(()=>[(c(!0),F(j,null,_(e.processorType,s=>(c(),T(g,{key:s.value,label:s.label,value:s.value,onClick:S=>C(s.value)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue","disabled","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{prop:"processorInfo"},{label:o(()=>[n(u(r.$t("message.job.job.processorInfo"))+" ",1),l(V,{class:"box-item",effect:"dark",placement:"top"},{content:o(()=>[n(u(r.$t("message.job.job.processorInfoLabel.one")),1),he,n(" "+u(r.$t("message.job.job.processorInfoLabel.two")),1),Se,n(" "+u(r.$t("message.job.job.processorInfoLabel.three")),1),ve]),default:o(()=>[l(E,{style:{"margin-top":"9px"}},{default:o(()=>[l(v)]),_:1})]),_:1})]),default:o(()=>[l(P,{modelValue:e.ruleForm.processorInfo,"onUpdate:modelValue":t[5]||(t[5]=s=>e.ruleForm.processorInfo=s),style:{width:"80%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[x,e.rowState.inputProcessor]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.kettleCommand"),prop:"kettleProcessorInfo"},{default:o(()=>[l(P,{modelValue:e.ruleForm.kettleProcessorInfo,"onUpdate:modelValue":t[6]||(t[6]=s=>e.ruleForm.kettleProcessorInfo=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(k,{modelValue:e.ruleForm.kettleProcessorType,"onUpdate:modelValue":t[7]||(t[7]=s=>e.ruleForm.kettleProcessorType=s),style:{"margin-left":"120px"}},{default:o(()=>[(c(!0),F(j,null,_(e.shellType,s=>(c(),T(w,{key:s.value,label:s.label,onClick:S=>J(s.value)},{default:o(()=>[n(u(s.value),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},512),[[x,e.rowState.kettleProcessor]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(m(I),{ref:"shellProcessorMonacoEditor",editorStyle:e.shellEditor.editorStyle,language:e.shellEditor.language,value:e.ruleForm.shellProcessorInfo,syncValue:e.syncEditor,onUpdateContent:te,style:{"margin-left":"120px"}},null,8,["editorStyle","language","value","syncValue"]),l(k,{modelValue:e.ruleForm.shellProcessorType,"onUpdate:modelValue":t[8]||(t[8]=s=>e.ruleForm.shellProcessorType=s),style:{"margin-left":"120px"}},{default:o(()=>[(c(!0),F(j,null,_(e.shellType,s=>(c(),T(w,{key:s.value,label:s.label,onClick:S=>B(s.value)},{default:o(()=>[n(u(s.value),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},512),[[x,e.rowState.shellProcessor]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:"URL",prop:"httpUrl"},{default:o(()=>[l(P,{modelValue:e.ruleForm.httpUrl,"onUpdate:modelValue":t[9]||(t[9]=s=>e.ruleForm.httpUrl=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[x,e.rowState.httpProcessor]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:"Method",prop:"httpMethod"},{default:o(()=>[l(h,{modelValue:e.ruleForm.httpMethod,"onUpdate:modelValue":t[10]||(t[10]=s=>e.ruleForm.httpMethod=s),class:"m-2",placeholder:m(a)("message.commonMsg.emptySelect"),style:{width:"100%"}},{default:o(()=>[(c(!0),F(j,null,_(e.httpMethod,s=>(c(),T(g,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1})]),_:1},512),[[x,e.rowState.httpProcessor]]),l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{prop:""},{label:o(()=>[n(u(r.$t("message.job.job.executeType"))+" ",1),l(V,{class:"box-item",effect:"dark",placement:"top"},{content:o(()=>[n(u(r.$t("message.job.job.executeTypeLabel.one")),1),Ee,n(" "+u(r.$t("message.job.job.executeTypeLabel.two")),1),Ve,n(" "+u(r.$t("message.job.job.executeTypeLabel.two")),1),we,n(" "+u(r.$t("message.job.job.executeTypeLabel.four")),1),ke]),default:o(()=>[l(E,{style:{"margin-top":"9px"}},{default:o(()=>[l(v)]),_:1})]),_:1})]),default:o(()=>[l(h,{modelValue:e.ruleForm.executeType,"onUpdate:modelValue":t[11]||(t[11]=s=>e.ruleForm.executeType=s),class:"m-2",placeholder:m(a)("message.commonMsg.emptySelect"),style:{width:"100%"}},{default:o(()=>[(c(!0),F(j,null,_(e.executeType,s=>(c(),T(g,{key:s.value,label:s.label,value:s.value,onClick:S=>U(s.value)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1})]),_:1}),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{prop:"shardingParams"},{label:o(()=>[n(u(r.$t("message.job.job.shardingParams"))+" ",1),l(V,{class:"box-item",effect:"dark",placement:"top"},{content:o(()=>[n(u(r.$t("message.job.job.shardingParamsLabel.one")),1),Ie,n(" "+u(r.$t("message.job.job.shardingParamsLabel.two")),1)]),default:o(()=>[l(E,{style:{"margin-top":"9px"}},{default:o(()=>[l(v)]),_:1})]),_:1})]),default:o(()=>[l(P,{type:"textarea",rows:"3",modelValue:e.ruleForm.shardingParams,"onUpdate:modelValue":t[12]||(t[12]=s=>e.ruleForm.shardingParams=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[x,e.rowState.shardingParams]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.paramsType"),prop:"paramsType"},{default:o(()=>[l(k,{modelValue:e.ruleForm.paramsType,"onUpdate:modelValue":t[13]||(t[13]=s=>e.ruleForm.paramsType=s)},{default:o(()=>[(c(!0),F(j,null,_(e.contentType,s=>(c(),T(w,{key:s.value,label:s.label,onClick:S=>re(s.value)},{default:o(()=>[n(u(s.value),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[x,e.rowState.processorParams]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.params"),prop:"params"},{default:o(()=>[l(m(I),{ref:"JobParamsMonacoEditor",editorStyle:e.paramsEditor.editorStyle,language:e.ruleForm.paramsType,value:e.ruleForm.params,syncValue:e.syncEditor,onUpdateContent:ae},null,8,["editorStyle","language","value","syncValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[x,e.rowState.processorParams]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.extendParamsType"),prop:"extendParamsType"},{default:o(()=>[l(k,{modelValue:e.ruleForm.extendParamsType,"onUpdate:modelValue":t[14]||(t[14]=s=>e.ruleForm.extendParamsType=s)},{default:o(()=>[(c(!0),F(j,null,_(e.contentType,s=>(c(),T(w,{key:s.value,label:s.label,onClick:S=>se(s.value)},{default:o(()=>[n(u(s.value),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[x,e.rowState.processorParams]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.extendParams"),prop:"extendParams"},{default:o(()=>[l(m(I),{ref:"JobExtParamsMonacoEditor",editorStyle:e.paramsExtEditor.editorStyle,language:e.ruleForm.extendParamsType,value:e.ruleForm.extendParams,syncValue:e.syncEditor,onUpdateContent:me},null,8,["editorStyle","language","value","syncValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[x,e.rowState.processorParams]]),l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.timeExpressionType"),prop:""},{label:o(()=>[n(u(r.$t("message.job.job.timeExpressionType"))+" ",1),l(V,{class:"box-item",effect:"dark",placement:"top"},{content:o(()=>[n(u(r.$t("message.job.job.timeExpressionTypeLabel.one")),1),Re,n(" "+u(r.$t("message.job.job.timeExpressionTypeLabel.two")),1),Le,n(" "+u(r.$t("message.job.job.timeExpressionTypeLabel.three")),1),Ce,n(" "+u(r.$t("message.job.job.timeExpressionTypeLabel.four")),1),Ue]),default:o(()=>[l(E,{style:{"margin-top":"9px"}},{default:o(()=>[l(v)]),_:1})]),_:1})]),default:o(()=>[l(h,{modelValue:e.ruleForm.timeExpressionType,"onUpdate:modelValue":t[15]||(t[15]=s=>e.ruleForm.timeExpressionType=s),class:"m-2",placeholder:m(a)("message.commonMsg.emptySelect"),style:{width:"100%"}},{default:o(()=>[(c(!0),F(j,null,_(e.timeExpressionType,s=>(c(),T(g,{key:s.value,label:s.label,value:s.value,onClick:S=>$(s.value)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.timeExpression"),prop:"timeExpression"},{default:o(()=>[l(P,{modelValue:e.ruleForm.timeExpression,"onUpdate:modelValue":t[16]||(t[16]=s=>e.ruleForm.timeExpression=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(D,{type:"success",plain:"",size:"default",onClick:t[17]||(t[17]=s=>oe()),style:{"margin-left":"10px"}},{default:o(()=>[n(u(m(a)("message.job.instance.executeTime")),1)]),_:1})]),_:1})]),_:1},512),[[x,e.rowState.timeExpression]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.timeExpressionTypeList.secondDelayTitle"),prop:"fixedDelay"},{default:o(()=>[l(P,{modelValue:e.ruleForm.fixedDelay,"onUpdate:modelValue":t[18]||(t[18]=s=>e.ruleForm.fixedDelay=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[x,e.rowState.fixedDelay]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.timeExpressionTypeList.fixedRateTitle"),prop:"fixedRate"},{default:o(()=>[l(P,{modelValue:e.ruleForm.fixedRate,"onUpdate:modelValue":t[19]||(t[19]=s=>e.ruleForm.fixedRate=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[x,e.rowState.fixedRate]]),y(l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.timeExpressionTypeList.oneTimeTitle"),prop:"executeTime"},{default:o(()=>[l(ue,{modelValue:e.ruleForm.executeTime,"onUpdate:modelValue":t[20]||(t[20]=s=>e.ruleForm.executeTime=s),type:"datetime",placeholder:m(a)("message.commonMsg.emptySelect")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[x,e.rowState.executeTime]]),l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.status"),prop:"status"},{default:o(()=>[l(ne,{modelValue:e.ruleForm.status,"onUpdate:modelValue":t[21]||(t[21]=s=>e.ruleForm.status=s),class:"ml-2",name:"status",size:"default",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{prop:"executeStrategy"},{label:o(()=>[n(u(r.$t("message.job.job.executeStrategy"))+" ",1),l(V,{class:"box-item",effect:"dark",placement:"top"},{content:o(()=>[n(u(r.$t("message.job.job.executeStrategyLabel.one")),1),$e,n(" "+u(r.$t("message.job.job.executeStrategyLabel.two")),1),De,n(" "+u(r.$t("message.job.job.executeStrategyLabel.three")),1),Me,n(" "+u(r.$t("message.job.job.executeStrategyLabel.four")),1),qe]),default:o(()=>[l(E,{style:{"margin-top":"9px"}},{default:o(()=>[l(v)]),_:1})]),_:1})]),default:o(()=>[l(h,{modelValue:e.ruleForm.executeStrategy,"onUpdate:modelValue":t[22]||(t[22]=s=>e.ruleForm.executeStrategy=s),class:"m-2",placeholder:m(a)("message.commonMsg.emptySelect"),style:{width:"100%"}},{default:o(()=>[(c(!0),F(j,null,_(e.executeStrategy,s=>(c(),T(g,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.concurrency"),prop:"concurrency"},{default:o(()=>[l(M,{modelValue:e.ruleForm.concurrency,"onUpdate:modelValue":t[23]||(t[23]=s=>e.ruleForm.concurrency=s),min:1,max:128,style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),l(d),l(d,null,{default:o(()=>[l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.failRetryTimes"),prop:"failRetryTimes"},{default:o(()=>[l(M,{modelValue:e.ruleForm.failRetryTimes,"onUpdate:modelValue":t[24]||(t[24]=s=>e.ruleForm.failRetryTimes=s),min:1,max:6,step:e.ruleForm.timesStep,style:{width:"100%"}},null,8,["modelValue","step"])]),_:1},8,["label"])]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(p,{label:m(a)("message.job.job.failRetryInterval"),prop:"failRetryInterval"},{default:o(()=>[l(M,{modelValue:e.ruleForm.failRetryInterval,"onUpdate:modelValue":t[25]||(t[25]=s=>e.ruleForm.failRetryInterval=s),step:e.ruleForm.intervalStep,min:1,style:{width:"100%"}},null,8,["modelValue","step"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model","rules"])])]),footer:o(()=>[f("div",Be,[l(D,{type:"primary",onClick:t[26]||(t[26]=s=>ee(L.value)),size:"default"},{default:o(()=>[n(u(m(a)("message.commonBtn.confirm")),1)]),_:1}),l(D,{onClick:Y,size:"default"},{default:o(()=>[n(u(m(a)("message.commonBtn.cancel")),1)]),_:1})])]),_:1},8,["modelValue"])}}});export{ml as default};
