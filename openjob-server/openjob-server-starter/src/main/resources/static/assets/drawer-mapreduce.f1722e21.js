import{h as c,K as z,a9 as l,j as V,v as y,x as r,D as t,B as d,y as N,E as A,l as m}from"./vue.bd0669ce.js";import{u as I}from"./vue-i18n.cjs.2a00fe88.js";import{e as u}from"./data.a7368d0d.js";import"./_commonjsHelpers.35101cd5.js";import"./index.3f2ce315.js";import"./request.386cf962.js";import"./storage.b628b270.js";import"./index.c3b4fd97.js";import"./index.aa7cec2e.js";import"./themeConfig.cb88f033.js";import"./index.f64fca3a.js";import"./index.e8f4f9cf.js";import"./index.ee56f1f7.js";import"./header.9390c1c5.js";const D=m("div",null,[m("h4",null,"任务实例详情")],-1),v=c({name:"jobDrawerName"}),O=c({...v,setup(x,{expose:g}){I();const a=z({tabsValue:"base",pageShow:!1,drawer:{isShow:!1},descriptions:{column:6,workerAddress:"",createTime:"",completeTime:"",statusTag:"",statusLabel:"Default"}}),h=async e=>{a.descriptions.workerAddress=e.workerAddress,a.descriptions.createTime=e.createTime,a.descriptions.completeTime=e.completeTime,a.descriptions.statusTag=u(e.status).tag,a.descriptions.statusLabel=u(e.status).label,a.tabsValue="base",a.pageShow=!1,a.drawer.isShow=!0},b=e=>{if(e=="list"){a.pageShow=!0;return}a.pageShow=!1},w=[{id:3,workerAddress:"172.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"waiting",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41",hasChildren:!0},{id:4,workerAddress:"172.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"success",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41",hasChildren:!0}],k=(e,s,n)=>{if(e.id==3){n([{id:31,workerAddress:"192.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"成功",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41"}]);return}if(e.id==131){n([{id:311,workerAddress:"192.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"成功",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41"}]);return}n([{id:131,workerAddress:"192.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"成功",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41",hasChildren:!0}])},f=()=>{};return g({openDrawer:h}),(e,s)=>{const n=l("el-tab-pane"),i=l("el-table-column"),p=l("el-button"),_=l("el-table"),T=l("el-tabs"),C=l("el-pagination"),S=l("el-drawer");return V(),y(S,{modelValue:a.drawer.isShow,"onUpdate:modelValue":s[3]||(s[3]=o=>a.drawer.isShow=o),direction:"rtl",size:"60%",onClose:s[4]||(s[4]=o=>f())},{header:r(()=>[D]),default:r(()=>[t(T,{modelValue:a.tabsValue,"onUpdate:modelValue":s[0]||(s[0]=o=>a.tabsValue=o),type:"border-card",style:{"border-top":"none",height:"100%"},onTabChange:b},{default:r(()=>[t(n,{name:"base",label:"基本信息"},{default:r(()=>[d("User")]),_:1}),t(n,{name:"list",label:"任务列表"},{default:r(()=>[t(_,{data:w,style:{width:"100%"},size:"default","row-key":"id",lazy:"",load:k,"show-header":!1,"tree-props":{children:"children",hasChildren:"hasChildren"}},{default:r(()=>[t(i,{prop:"taskName",label:"taskName"}),t(i,{prop:"workerAddress",label:"workerAddress"}),t(i,{prop:"taskStatus",label:"taskStatus"}),t(i,{prop:"createTIme",label:"createTIme"}),t(i,{prop:"completeTime",label:"completeTime"}),t(i,{fixed:"right",label:"操作",width:"120"},{default:r(()=>[t(p,{link:"",type:"primary",size:"small",onClick:e.handleClick},{default:r(()=>[d(" 详情 ")]),_:1},8,["onClick"]),t(p,{link:"",type:"danger",size:"small"},{default:r(()=>[d(" 终止 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),footer:r(()=>[N(t(C,{"current-page":e.currentPage4,"onUpdate:current-page":s[1]||(s[1]=o=>e.currentPage4=o),"page-size":e.pageSize4,"onUpdate:page-size":s[2]||(s[2]=o=>e.pageSize4=o),"page-sizes":[100,200,300,400],small:e.small,disabled:e.disabled,background:"",layout:"total, sizes, prev, pager, next, jumper",total:400,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,style:{"margin-left":"12px","padding-bottom":"12px"}},null,8,["current-page","page-size","small","disabled","onSizeChange","onCurrentChange"]),[[A,a.pageShow]])]),_:1},8,["modelValue"])}}});export{O as default};
