import{at as l}from"./vue.543fafcc.js";import{S as n,T as h,a as r,U as o}from"./storage.b628b270.js";const c=l("userInfo",{state:()=>({userInfos:{userName:"",photo:"",time:0,roles:[],isAdmin:!1,authBtnList:[],perms:[]}}),actions:{isSupperAdmin(){return this.userInfos.isAdmin},hasPermission(s){return this.userInfos.isAdmin?!0:this.userInfos.perms?this.userInfos.perms.indexOf(s)>-1:!1},saveToSession(s,t,e){n.set(h,t),r.set("username",s),n.set(o,e)},async setUserInfos(){if(n.get(o))this.userInfos=n.get(o);else{const s=await this.getApiUserInfo();this.userInfos=s}},async getApiUserInfo(){return new Promise(s=>{setTimeout(()=>{const t=r.get("userName");let e=[],i=[],a=["admin"],u=["btn.add","btn.del","btn.edit","btn.link"],m=["common"],f=["btn.add","btn.link"];t==="admin"?(e=a,i=u):(e=m,i=f);const d={userName:t,photo:t==="admin"?"https://img2.baidu.com/it/u=1978192862,2048448374&fm=253&fmt=auto&app=138&f=JPEG?w=504&h=500":"https://img2.baidu.com/it/u=2370931438,70387529&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",time:new Date().getTime(),roles:e,authBtnList:i};s(d)},0)})}}});export{c as u};
